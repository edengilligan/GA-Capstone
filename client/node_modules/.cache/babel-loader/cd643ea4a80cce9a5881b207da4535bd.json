{"ast":null,"code":"var _jsxFileName = \"/Users/edengilligan/General_Assembly/GA-Capstone/client/src/components/TimeFormEdit.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst TimeFormEdit = props => {\n  _s();\n\n  console.log(props);\n  const params = useParams();\n  console.log(params);\n  const [formState, setFormState] = useState({\n    date: \"\",\n    staff_attendance: \"\",\n    client: \"\",\n    travel_information: \"\",\n    arrival_time: \"\",\n    departure_time: \"\",\n    products_used: \"\",\n    receipts: \"\",\n    notes: \"\",\n    action_next_visit: \"\",\n    written_by: \"\"\n  });\n  useEffect(() => {\n    fetch(`http://localhost:3000/api/timesheets/${params.id}`, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(response => {\n      return response.json();\n    }).then(timesheetData => {\n      console.log(\"timesheetData:\", timesheetData);\n      setFormState(timesheetData);\n    });\n  }, []);\n\n  const handleChange = e => {\n    const newState = { ...formState\n    };\n    newState[e.target.name] = e.target.value;\n    setFormState(newState);\n  };\n\n  const handleSubmit = e => {\n    console.log(\"handleSubmit\");\n    console.log(formState);\n    const url = `http://localhost:3000/api/timesheets/${params.id}`;\n    fetch(url, {\n      method: \"PATCH\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(formState)\n    }).then(response => {\n      // this is where you would add TOAST with a pop up message\n      console.log(\"PATCH response:\", response); // to refresh page add a .then here and then a fetch to fetch like avove and then set the state of timesheets\n    });\n  };\n\n  const handleDelete = () => {\n    fetch(`http://localhost:3000/api/timesheets/${params.id}`, {\n      method: \"DELETE\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(response => {\n      return response.json();\n    }).then(timesheetData => {\n      console.log(\"timesheetData:\", timesheetData);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Edit/Delete\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"datetxt\",\n            children: \"Date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"date\",\n            value: formState.date,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"clienttxt\",\n            children: \"Client\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"client\",\n            value: formState.client,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stafftxt\",\n            children: \"Staff Attendance\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"staff_attendance\",\n            value: formState.staff_attendance,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"traveltxt\",\n            children: \"Travel Information\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"travel_information\",\n            value: formState.travel_information,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"arrivaltxt\",\n            children: \"Arrival Time\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"arrival_time\",\n            value: formState.arrival_time,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"departuretxt\",\n            children: \"Departure Time\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"departure_time\",\n            value: formState.departure_time,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"productstxt\",\n            children: \"Products Used\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"products_used\",\n            value: formState.products_used,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"receiptstxt\",\n            children: \"Receipts\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"receipts\",\n            value: formState.receipts,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"notestxt\",\n            children: \"Notes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"notes\",\n            value: formState.notes,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"actiontxt\",\n            children: \"Action Next Visit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"action_next_visit\",\n            value: formState.action_next_visit,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"writtentxt\",\n            children: \"Written By\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"written_by\",\n            value: formState.written_by,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"edit\",\n        type: \"submit\",\n        children: \"Edit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"delete\",\n        onClick: handleDelete,\n        children: \"Delete\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 5\n  }, this);\n};\n\n_s(TimeFormEdit, \"cvtgb+hhlbuuCH0L8dPRwLfMik4=\", false, function () {\n  return [useParams];\n});\n\n_c = TimeFormEdit;\nexport default TimeFormEdit;\n\nvar _c;\n\n$RefreshReg$(_c, \"TimeFormEdit\");","map":{"version":3,"sources":["/Users/edengilligan/General_Assembly/GA-Capstone/client/src/components/TimeFormEdit.js"],"names":["React","useEffect","useState","useParams","TimeFormEdit","props","console","log","params","formState","setFormState","date","staff_attendance","client","travel_information","arrival_time","departure_time","products_used","receipts","notes","action_next_visit","written_by","fetch","id","method","headers","then","response","json","timesheetData","handleChange","e","newState","target","name","value","handleSubmit","url","body","JSON","stringify","handleDelete"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport {useParams} from \"react-router-dom\"\nconst TimeFormEdit = (props) => {\n  console.log(props);\n\n  const params = useParams(); \n  console.log(params)\n\n  const [formState, setFormState] = useState ({\n    date: \"\",\n    staff_attendance: \"\",\n    client: \"\",\n    travel_information: \"\",\n    arrival_time: \"\",\n    departure_time:\"\",\n    products_used:\"\",\n    receipts: \"\" , \n    notes: \"\",\n    action_next_visit: \"\",\n    written_by: \"\"\n  });\n\n  useEffect(() => {\n    fetch(`http://localhost:3000/api/timesheets/${params.id}`, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    })\n      .then((response) => {\n        return response.json();\n      })\n      .then((timesheetData) => {\n        console.log(\"timesheetData:\", timesheetData);\n        setFormState(timesheetData);\n      });\n  },[]);\n\n  const handleChange = (e) => {\n    const newState = { ...formState };\n    newState[e.target.name] = e.target.value;\n    setFormState(newState);\n  };\n  const handleSubmit = (e) => {\n    console.log(\"handleSubmit\");\n    console.log(formState); \n    const url = `http://localhost:3000/api/timesheets/${params.id}`;\n    fetch(url, {\n      method: \"PATCH\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(formState),\n    }).then((response) => {\n      // this is where you would add TOAST with a pop up message\n      console.log(\"PATCH response:\", response); // to refresh page add a .then here and then a fetch to fetch like avove and then set the state of timesheets\n    });\n  };\n\n  const handleDelete = () => {\n    fetch(`http://localhost:3000/api/timesheets/${params.id}`, {\n      method: \"DELETE\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    })\n      .then((response) => {\n        return response.json();\n      })\n      .then((timesheetData) => {\n        console.log(\"timesheetData:\", timesheetData);\n     \n      });\n  };\n  return (\n\n    \n    <div>\n    <h2>Edit/Delete</h2>\n    <form onSubmit={handleSubmit}>\n      \n      <div>\n      <label>\n      <div className=\"datetxt\">Date</div> \n        <input\n          name=\"date\"\n          value={formState.date}\n          onChange={handleChange}\n        ></input>\n      </label>\n      </div>\n      <div>\n      <label>\n      <div className=\"clienttxt\">Client</div> \n        <input\n          name=\"client\"\n          value={formState.client}\n          onChange={handleChange}\n        ></input>\n      </label>\n      </div>\n      <div>\n      <label>\n      <div className=\"stafftxt\">Staff Attendance</div> \n        <input\n          name=\"staff_attendance\"\n          value={formState.staff_attendance}\n          onChange={handleChange}\n        ></input>\n      </label>\n      </div>\n     <div>\n      <label>\n      <div className=\"traveltxt\">Travel Information</div> \n        <input\n          name=\"travel_information\"\n          value={formState.travel_information}\n          onChange={handleChange}\n        ></input>\n      </label>\n      </div>\n<div>\n      <label>\n      <div className=\"arrivaltxt\">Arrival Time</div> \n        <input\n          name=\"arrival_time\"\n          value={formState.arrival_time}\n          onChange={handleChange}\n        ></input>\n      </label>\n      </div>\n        <div>\n      <label>\n      <div className=\"departuretxt\">Departure Time</div> \n        <input\n          name=\"departure_time\"\n          value={formState.departure_time}\n          onChange={handleChange}\n        ></input>\n      </label>\n      </div>\n<div>\n      <label>\n      <div className=\"productstxt\">Products Used</div> \n        <input\n          name=\"products_used\"\n          value={formState.products_used}\n          onChange={handleChange}\n        ></input>\n      </label>\n      </div>\n<div>\n      <label>\n      <div className=\"receiptstxt\">Receipts</div> \n        <input\n          name=\"receipts\"\n          value={formState.receipts}\n          onChange={handleChange}\n        ></input>\n      </label>\n      </div>\n<div>\n      <label>\n      <div className=\"notestxt\">Notes</div> \n        <input\n          name=\"notes\"\n          value={formState.notes}\n          onChange={handleChange}\n        ></input>\n      </label>\n      </div>\n<div>\n      <label>\n      <div className=\"actiontxt\">Action Next Visit</div> \n        <input\n          name=\"action_next_visit\"\n          value={formState.action_next_visit}\n          onChange={handleChange}\n        ></input>\n      </label>\n      </div>\n<div>\n      <label>\n      <div className=\"writtentxt\">Written By</div> \n        <input\n          name=\"written_by\"\n          value={formState.written_by}\n          onChange={handleChange}\n        ></input>\n      </label>\n      </div>\n        <button className =\"edit\" type=\"submit\" >Edit</button>\n        <button className =\"delete\"onClick={handleDelete}>Delete</button>\n      </form>\n    </div>\n  );\n};\nexport default TimeFormEdit;"]},"metadata":{},"sourceType":"module"}